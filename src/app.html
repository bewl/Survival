<template>
    <div id="map" style="background-color:black;font-family: 'Courier New', Courier, monospace">
        <div repeat.for="chunkY of game.world.chunks">
            <div style="${chunkX.chunkPosition.x === 0 ? 'clear:both;' : ''} float:left" repeat.for="chunkX of chunkY">
                <div repeat.for="tileY of chunkX.tiles">
                    <label repeat.for="tileX of tileY" style="background-color:black; width:10px; text-align:center;color:${tileX.isPlayer ? 'blue' : tileX.color}; font-weight:bold;" title="${tileX.worldPosition.x} ${tileX.worldPosition.y}">${tileX.isPlayer ? '@' : tileX.symbol}</label>
                </div>
            </div>
        </div>
    </div>
    <h2>Items</h2>
    <ul>
        <li repeat.for="item of game.itemContext.items" click.delegate="AddItem(item)">
            ${item.title}
        </li>
    </ul>
    <h2>Inventory</h2>
    <div style="display: inline-block">
        <ul>
            <li repeat.for="item of game.player.inventory.items">
                <div click.delegate="RemoveItem(item)">${item.title}</div>
                <div click.delegate="UseItem(item)">Use</div>
            </li>
        </ul>
    </div>
    <div style="display: inline-block">
        <div>Weight: ${game.player.inventory.currentWeight}/${game.player.inventory.weightCap}</div>
        <div>Volume: ${game.player.inventory.currentVolume}/${game.player.inventory.volumeCap}</div>
    </div>

    <h2>Health</h2>
    <div style="display: inline-block">
        <ul>
            <li repeat.for="part of game.player.health.parts" click.delegate="RemoveItem(item)">
                ${item.title}
                <div>${part.description}:${part.value}</div>
            </li>
        </ul>
    </div>
</template>